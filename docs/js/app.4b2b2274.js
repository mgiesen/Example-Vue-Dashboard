(function(){"use strict";var e={1912:function(e,t,s){var n=s(5328),r=s(6760);const o={class:"d-flex"};function i(e,t,s,n,i,a){const c=(0,r.E1)("AppHeader"),l=(0,r.E1)("AppSidebar"),u=(0,r.E1)("AppMain");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.K2)(c),(0,r.QD)("div",o,[(0,r.K2)(l),(0,r.K2)(u)])])}var a="data:image/png;base64,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";const c={class:"d-flex align-items-center justify-content-between bg-dark text-white p-3"},l=(0,r.IL)('<div class="d-flex align-items-center"><img src="'+a+'" alt="Logo" class="logo"><div style="margin-left:20px;"><h5 style="margin:0;">Vue Dashboard Example</h5><p style="margin:0;">mgiesen</p></div></div>',1),u=[l];function d(e,t,s,n,o,i){return(0,r.Wz)(),(0,r.An)("header",c,u)}var h={name:"AppHeader"},A=s(8152);const f=(0,A.c)(h,[["render",d]]);var b=f;const p={class:"bg-light p-3",style:{height:"100vh"}},v={class:"nav flex-column"},g={class:"nav-item"},m={class:"nav-item"};function k(e,t,s,n,o,i){const a=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("aside",p,[(0,r.QD)("ul",v,[(0,r.QD)("li",g,[(0,r.K2)(a,{to:"/",class:"nav-link"},{default:(0,r.Ql)((()=>[(0,r.mY)("Dashboard 1")])),_:1})]),(0,r.QD)("li",m,[(0,r.K2)(a,{to:"/mydashboard2",class:"nav-link"},{default:(0,r.Ql)((()=>[(0,r.mY)("Dashboard 2")])),_:1})])])])}var D={name:"AppSidebar"};const B=(0,A.c)(D,[["render",k]]);var C=B;const y={id:"main"};function Q(e,t,s,n,o,i){const a=(0,r.E1)("router-view");return(0,r.Wz)(),(0,r.An)("main",y,[(0,r.K2)(a)])}var w={name:"AppMain"};const S=(0,A.c)(w,[["render",Q]]);var z=S,V={name:"App",components:{AppHeader:b,AppSidebar:C,AppMain:z}};const x=(0,A.c)(V,[["render",i]]);var W=x,M=s(5216);const N=(0,r.QD)("h2",null,"Dashboard 1",-1),E={style:{"margin-top":"30px"}},O=(0,r.QD)("h6",{class:"example_label"},"Pulled from REST server",-1),U={style:{"margin-top":"20px"}},I=(0,r.QD)("h6",{class:"example_label"},"Live synced from Websocket server",-1);function R(e,t,s,n,o,i){const a=(0,r.E1)("RestValueCard"),c=(0,r.E1)("WssValueCard");return(0,r.Wz)(),(0,r.An)("div",null,[N,(0,r.QD)("div",E,[O,(0,r.K2)(a,{title:"Temperature 1",fetchUrl:"http://localhost:3000/temperature",icon:"bi-thermometer-sun",iconColor:"#ff6384",iconBgColor:"#ffe5e5"})]),(0,r.QD)("div",U,[I,(0,r.K2)(c,{title:"Temperature 2",fetchUrl:"ws://localhost:3001",id:"wss_temperature",icon:"bi-thermometer-snow",iconColor:"#ff6384",iconBgColor:"#ffe5e5"})])])}var j=s(8752);const L={class:"card info-card"},F={class:"card-body"},H={class:"card-title"},G={class:"d-flex align-items-center"},Y={class:"ps-3"},T={key:0},K={key:1},P={key:2};function X(e,t,s,n,o,i){return(0,r.Wz)(),(0,r.An)("div",L,[(0,r.QD)("div",F,[(0,r.QD)("h5",H,(0,j.WA)(e.title),1),(0,r.QD)("div",G,[(0,r.QD)("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center",style:(0,j.MN)({color:e.iconColor,backgroundColor:e.iconBgColor})},[(0,r.QD)("i",{class:(0,j.WN)(e.icon)},null,2)],4),(0,r.QD)("div",Y,[e.isLoading?((0,r.Wz)(),(0,r.An)("h6",T,"Lade...")):e.errorMessage?((0,r.Wz)(),(0,r.An)("h6",K,"Netzwerkfehler")):((0,r.Wz)(),(0,r.An)("h6",P,(0,j.WA)(e.value)+" "+(0,j.WA)(e.unit),1))])])])])}var q=(0,r._M)({name:"RestValueCard",props:{title:String,icon:String,fetchUrl:String,iconColor:String,iconBgColor:String},data(){return{value:null,unit:"",status:null,isLoading:!0,errorMessage:""}},mounted(){this.fetchData()},methods:{async fetchData(){this.isLoading=!0,this.errorMessage="";try{const e=await fetch(this.fetchUrl);if(!e.ok)throw new Error("Netzwerkantwort war nicht ok.");const t=await e.json();this.value=t.value,this.unit=t.unit,this.status=t.status,this.isLoading=!1}catch(e){this.errorMessage="Netzwerkfehler",this.isLoading=!1}}},computed:{}});const J=(0,A.c)(q,[["render",X],["__scopeId","data-v-7917d4b6"]]);var Z=J;const _={class:"card info-card"},$={class:"card-body"},ee={class:"card-title"},te={class:"d-flex align-items-center"},se={class:"ps-3"},ne={key:0},re={key:1},oe={key:2},ie={key:3},ae={key:4};function ce(e,t,s,n,o,i){return(0,r.Wz)(),(0,r.An)("div",_,[(0,r.QD)("div",$,[(0,r.QD)("h5",ee,(0,j.WA)(e.title),1),(0,r.QD)("div",te,[(0,r.QD)("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center",style:(0,j.MN)({color:e.iconColor,backgroundColor:e.iconBgColor})},[(0,r.QD)("i",{class:(0,j.WN)(e.icon)},null,2)],4),(0,r.QD)("div",se,["connecting"===e.status?((0,r.Wz)(),(0,r.An)("h6",ne,"Verbinde...")):"open"===e.status?((0,r.Wz)(),(0,r.An)("h6",re,"Warte auf Daten...")):"close"===e.status?((0,r.Wz)(),(0,r.An)("h6",oe,"Netzwerkfehler")):"error"===e.status?((0,r.Wz)(),(0,r.An)("h6",ie,"Netzwerkfehler")):"message"===e.status?((0,r.Wz)(),(0,r.An)("h6",ae,(0,j.WA)(e.value)+" "+(0,j.WA)(e.unit),1)):(0,r.g1)("",!0)])])])])}s(3248);class le{constructor(){this.sockets={},this.subscribers={},this.reconnectInterval=5e3}connect(e){this.sockets[e]||(this.sockets[e]=new WebSocket(e),this.subscribers[e]=[],this.sockets[e].onopen=()=>{this.notifySubscribers(e,{status:"open"})},this.sockets[e].onmessage=t=>{const s=JSON.parse(t.data);this.notifySubscribers(e,s)},this.sockets[e].onclose=()=>{this.notifySubscribers(e,{status:"close"}),delete this.sockets[e],setTimeout((()=>this.connect(e)),this.reconnectInterval)},this.sockets[e].onerror=()=>{this.notifySubscribers(e,{status:"error"}),this.sockets[e].close()})}subscribe(e,t){this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),this.sockets[e]&&this.sockets[e].readyState===WebSocket.OPEN&&t({type:"open"})}unsubscribe(e,t){this.subscribers[e]&&(this.subscribers[e]=this.subscribers[e].filter((e=>e!==t)))}notifySubscribers(e,t){this.subscribers[e]&&this.subscribers[e].forEach((e=>e(t)))}}const ue=new le;var de=(0,r._M)({name:"WssValueCard",props:{title:String,icon:String,fetchUrl:String,iconColor:String,iconBgColor:String,id:String},data(){return{value:"",unit:"",status:"connecting"}},created(){ue.connect(this.fetchUrl),ue.subscribe(this.fetchUrl,this.handleData)},beforeUnmount(){ue.unsubscribe(this.fetchUrl,this.handleData)},methods:{handleData(e){e.status?this.status=e.status:e.id===this.id&&(this.status="message",this.value=e.data.value,this.unit=e.data.unit)}}});const he=(0,A.c)(de,[["render",ce],["__scopeId","data-v-4b353751"]]);var Ae=he,fe={name:"MyDashboard1",components:{RestValueCard:Z,WssValueCard:Ae}};const be=(0,A.c)(fe,[["render",R]]);var pe=be;const ve=(0,r.QD)("h2",null,"Dashboard 2",-1),ge={style:{"margin-top":"30px"}},me=(0,r.QD)("h6",{class:"example_label"},"Pulled from REST server",-1);function ke(e,t,s,n,o,i){const a=(0,r.E1)("RestValueCard");return(0,r.Wz)(),(0,r.An)("div",null,[ve,(0,r.QD)("div",ge,[me,(0,r.K2)(a,{title:"Humidity",fetchUrl:"http://localhost:3000/humidity",icon:"bi-moisture",iconColor:"#007bff",iconBgColor:"#e0f4ff"})])])}var De={name:"MyDashboard2",components:{RestValueCard:Z}};const Be=(0,A.c)(De,[["render",ke]]);var Ce=Be;const ye=(0,M.gv)({history:(0,M.oz)("/Example-Vue-Dashboard/"),routes:[{path:"/",name:"MyDashboard1",component:pe},{path:"/mydashboard2",name:"MyDashboard2",component:Ce}]});var Qe=ye;const we=(0,n.W0)(W);we.use(Qe),we.mount("#app")}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,r,o){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],a=n[1],c=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(c)var u=c(s)}for(t&&t(n);l<i.length;l++)o=i[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkExample_Vue_Dashboard"]=self["webpackChunkExample_Vue_Dashboard"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[999],(function(){return s(1912)}));n=s.O(n)})();
//# sourceMappingURL=app.4b2b2274.js.map